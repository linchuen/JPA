<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cooba.mapper.GoodsInventoryMapper">
<resultMap id="InventoryPriceDto" type="com.cooba.dto.InventoryPriceDto">
    <id column="goods_id" property="goodsId"/>
    <result column="merchant_id" property="merchantId"/>
    <result column="remain_amount" property="remainAmount"/>
    <result column="asset_id" property="assetId"/>
    <result column="price" property="price"/>
</resultMap>

    <select id="findWithPriceByIds" resultMap="InventoryPriceDto">
        SELECT
        inventory.goods_id,
        inventory.merchant_id,
        inventory.remain_amount,
        price.asset_id,
        price.price
        FROM goods_inventory as inventory
        INNER JOIN goods_price as price
        on inventory.goods_id = price.goods_id
        WHERE id IN
        <foreach collection="goodsIdList" item="id" open="(" close=")" separator=",">
            #{id}
        </foreach>
    </select>
</mapper>
